tags:
  - LNURL

security: []

deprecated: false
summary: 'First request for LNURL where the wallet send the public key with the k1 and signature.'
description: 'Verify the public key with the signature and the k1 to create a account or connect into a existing account.'
operationId: LNURL_authentificate

parameters:
  - name: k1
    in: query
    description: 'Hex encoded 32 bytes of challenge which is going to be signed by user private key.'
    required: true
    schema:
      type: string
      pattern: '^[a-fA-F0-9]{32}$'

  - name: tag
    in: query
    description: 'LNURL type.'
    required: true
    schema:
      type: string
      enum: ['login']

  - name: sig
    in: query
    description: 'Signature generated by the lightning wallet.'
    required: true
    schema:
      type: string

  - name: key
    in: query
    description: 'Public key of the lightning wallet.'
    required: true
    schema:
      type: string

  - name: hmac
    in: query
    description: 'HMAC signature used to secure LNURL.'
    required: true
    schema:
      type: string

  - name: t
    in: query
    description: 'Timestamp.'
    schema:
      type: string
      pattern: '^[0-9]+$'

responses:
  200:
    description: 'Sucessfuly logged in.'

  400:
    $ref: '../../../responses.yaml#/badParameters'
