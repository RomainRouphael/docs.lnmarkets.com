tags:
  - LNURL

security: []

deprecated: false
summary: Login via LNURL
description: |
  Verify the public key with the signature and the k1 to create a account or connect into a existing account.
  The connected state will be push over websockets.
operationId: LNURL_authenticate

parameters:
  - name: k1
    in: query
    description: Hex encoded 32 bytes of challenge which is going to be signed by user private key.
    required: true
    schema:
      type: string
      pattern: '^[a-fA-F0-9]{64}$'
      example: kyNVmR6HDtAW2aplYk6XmmpDrIhvzzq6

  - name: tag
    in: query
    description: LNURL type.
    required: true
    schema:
      type: string
      enum: ['login']
      example: login

  - name: sig
    in: query
    description: Signature generated by the lightning wallet.
    required: true
    schema:
      type: string
      example: qep5sAqwleQS27UdKLGNsCBTWB4soS45us9vJAbk1hMEdCAXoeB6IESi3Nz7SXJM

  - name: key
    in: query
    description: Public key of the lightning wallet.
    required: true
    schema:
      type: string
      example: Yc4h1Z5BZVmgmVQfIbdPWRVj9kHAo3uf

  - name: hmac
    in: query
    description: HMAC signature used to secure LNURL.
    required: true
    schema:
      type: string
      example: kuSHSXXDiP4qofiL2LGelesLLlRXUCJd

  - name: t
    in: query
    description: Timestamp.
    schema:
      type: string
      pattern: '^[0-9]+$'
      example: '1599492534790'

responses:
  200:
    description: Sucessfuly logged in.

  400:
    $ref: '../../../responses.yaml#/badParameters'
